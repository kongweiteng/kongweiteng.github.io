---
layout:     post
title:      "Doc"
subtitle:   " \"Doc\""
date:       2018-10-15 18:00:00
author:     "kwt"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - demo
---
·
> “Yeah It's on. ”


## 前言

接口文档

[跳过废话，直接看技术实现 ](#build) 


接口文档

<p id = "build"></p>
---


# 简介

**标题**：用能设备app API

**简介**：用能设备app专用后台接口

**HOST**:energy-consumer-app-fnw-dev.topaas.enncloud.cn

**联系人**:孔维腾

**接口路径**：/v2/api-docs
# 消息

## 消息-用能分析

**接口说明**:用能分析


**接口地址**:`/message/findAnalysisMsg`


**请求方式**：`GET`


**consumes**:``


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|custId| 客户ID  | query | true |string  |    |
|type| 类型（day/week/month/year）  | query | false |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": [
        {
"msgList": [
{
"analysisMsg": "",
"sendTime": "",
"title": ""
}
],
"type": "day/week/month/year"
        }
    ],
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |array  | 用能分析消息返回实体   |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |


**schema属性说明**


**用能分析消息返回实体**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|msgList | 报表消息   |array  | AnalysisMsg   |
|type | 报表类型   |string  |    |
**AnalysisMsg**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|analysisMsg |    |string  |    |
|sendTime |    |string  |    |
|title |    |string  |    |
**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp«List«用能分析消息返回实体»»|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||
## 消息-告知消息

**接口说明**:告知消息


**接口地址**:`/message/getMainAlarmInfo`


**请求方式**：`POST`


**consumes**:`["application/json"]`


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|custReq| custReq  | body | true |根据企业信息请求实体  | 根据企业信息请求实体   |
**schema属性说明**

**根据企业信息请求实体**
| 参数名称         | 说明    |     in |  是否必须   |  类型  |  schema |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|custID| 企业ID  | body | false |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": [
        {
"analysisMsg": "",
"sendTime": "",
"title": ""
        }
    ],
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |array  | AnalysisMsg   |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |


**schema属性说明**


**AnalysisMsg**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|analysisMsg |    |string  |    |
|sendTime |    |string  |    |
|title |    |string  |    |
**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp«List«AnalysisMsg»»|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||
# 用能分析
## 企业及车间列表

**接口说明**:


**接口地址**:`/cusEnergyAnalysis/getAccountUnit`


**请求方式**：`GET`


**consumes**:``


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|custId| 企业ID  | query | true |string  |    |
|start| 开始时间  | query | true |string  |    |
|end| 结束时间  | query | true |string  |    |
|type| 时间类型(day = 日 / week = 周 / month = 月 / year = 年 / custom = 自定义)  | query | true |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": [
        {
"accountId": "",
"accountName": "",
"accountType": ""
        }
    ],
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |array  | 返回数据列表   |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |


**schema属性说明**


**返回数据列表**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|accountId | 主键ID   |string  |    |
|accountName | 名称   |string  |    |
|accountType | 类型（00 = 企业 / 02 = 车间 / 03 = 生产线）   |string  |    |
**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp«List«返回数据列表»»|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||
## 生产线列表

**接口说明**:


**接口地址**:`/cusEnergyAnalysis/getAccountUnitLine`


**请求方式**：`GET`


**consumes**:``


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|accountId| 车间ID  | query | true |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": [
        {
"accountId": "",
"accountName": "",
"accountType": ""
        }
    ],
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |array  | 返回数据列表   |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |


**schema属性说明**


**返回数据列表**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|accountId | 主键ID   |string  |    |
|accountName | 名称   |string  |    |
|accountType | 类型（00 = 企业 / 02 = 车间 / 03 = 生产线）   |string  |    |
**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp«List«返回数据列表»»|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||
## 企业分析-日、周、自定义

**接口说明**:


**接口地址**:`/cusEnergyAnalysis/getCompanyAnalysisDayWeekCustom`


**请求方式**：`GET`


**consumes**:``


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|start| 开始时间(yyyy-MM-dd)  | query | true |string  |    |
|end| 结束时间(yyyy-MM-dd)  | query | true |string  |    |
|accountId| 核算单元id  | query | true |string  |    |
|type| 类型（day/week/custom）  | query | true |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": {
        "eleExit": false,
        "electric": {
"branchTimeEnergy": {
"flatFees": 0,
"flatQuantity": 0,
"peakFees": 0,
"peakQuantity": 0,
"tipFees": 0,
"tipQuantity": 0,
"valleyFees": 0,
"valleyQuantity": 0
},
"feeContrast": {
"maxName": "",
"maxValue": 0,
"minName": "",
"minValue": 0
},
"loss": 0,
"quantityAndFee": {
"fee": 0,
"quantity": 0
},
"quantityContrast": {
"maxName": "",
"maxValue": 0,
"minName": "",
"minValue": 0
}
        },
        "name": "",
        "steam": {
"feeContrast": {
"maxName": "",
"maxValue": 0,
"minName": "",
"minValue": 0
},
"feeRanking": [
{
"name": "",
"value": 0
}
],
"loss": 0,
"quantityAndFeeResp": {
"fee": 0,
"quantity": 0
},
"quantityContrast": {
"maxName": "",
"maxValue": 0,
"minName": "",
"minValue": 0
},
"quantityRanking": [
{
"name": "",
"value": 0
}
]
        },
        "steamExit": false,
        "time": ""
    },
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |企业分析-日、周、自定义数据返回  | 企业分析-日、周、自定义数据返回   |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |


**schema属性说明**


**企业分析-日、周、自定义数据返回**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|eleExit | 电力是否存在（true为存在）   |boolean  |    |
|electric | 电力系统数据   |用能分析电力系统返回数据  | 用能分析电力系统返回数据   |
|name | 名称   |string  |    |
|steam | 蒸汽系统数据   |用能分析蒸汽系统日周自定义数据返回  | 用能分析蒸汽系统日周自定义数据返回   |
|steamExit | 蒸汽是否存在（true为存在）   |boolean  |    |
|time |    |date-time  |    |
**用能分析电力系统返回数据**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|branchTimeEnergy | 分时电量   |分时电量返回数据  | 分时电量返回数据   |
|feeContrast | 车间用电对比-费   |用能对比分析-最大最小 数据返回  | 用能对比分析-最大最小 数据返回   |
|loss | 损耗   |number  |    |
|quantityAndFee | 用量和费用   |用能量和费数据返回  | 用能量和费数据返回   |
|quantityContrast | 车间用电对比-量   |用能对比分析-最大最小 数据返回  | 用能对比分析-最大最小 数据返回   |
**分时电量返回数据**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|flatFees | 平-费   |number  |    |
|flatQuantity | 平-量   |number  |    |
|peakFees | 峰-费   |number  |    |
|peakQuantity | 峰-量   |number  |    |
|tipFees | 尖-费   |number  |    |
|tipQuantity | 尖-量   |number  |    |
|valleyFees | 谷-费   |number  |    |
|valleyQuantity | 谷-量   |number  |    |
**用能对比分析-最大最小 数据返回**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|maxName | 最大-名称   |string  |    |
|maxValue | 最大-值   |number  |    |
|minName | 最小-名称   |string  |    |
|minValue | 最小-值   |number  |    |
**用能量和费数据返回**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|fee | 用能费用   |number  |    |
|quantity | 用能用量   |number  |    |
**用能分析蒸汽系统日周自定义数据返回**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|feeContrast | 车间用汽-费   |用能对比分析-最大最小 数据返回  | 用能对比分析-最大最小 数据返回   |
|feeRanking | 车间费用排名   |array  | 数据返回-值、名称   |
|loss | 损耗   |number  |    |
|quantityAndFeeResp | 蒸汽用量和费用   |用能量和费数据返回  | 用能量和费数据返回   |
|quantityContrast | 车间用汽-量   |用能对比分析-最大最小 数据返回  | 用能对比分析-最大最小 数据返回   |
|quantityRanking | 车间用汽量排名   |array  | 数据返回-值、名称   |
**数据返回-值、名称**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|name | 名称   |string  |    |
|value | 值   |number  |    |
**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp«企业分析-日、周、自定义数据返回»|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||
## 企业分析-月、年

**接口说明**:企业分析-月、年


**接口地址**:`/cusEnergyAnalysis/getCompanyAnalysisMonthYear`


**请求方式**：`GET`


**consumes**:``


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|time| 时间(yyyy-MM或yyyy)  | query | true |string  |    |
|accountId| 核算单元id  | query | true |string  |    |
|type| 类型（month/year）  | query | true |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": {
        "eleExit": false,
        "electric": {
"costComposition": {
"baseFee": "",
"branchTimeFee": "",
"rewardFee": ""
},
"feeContrast": {
"maxName": "",
"maxValue": 0,
"minName": "",
"minValue": 0
},
"quantityAndFee": {
"fee": 0,
"quantity": 0
},
"quantityContrast": {
"maxName": "",
"maxValue": 0,
"minName": "",
"minValue": 0
}
        },
        "name": "",
        "steam": {
"feeContrast": {
"maxName": "",
"maxValue": 0,
"minName": "",
"minValue": 0
},
"feeRanking": [
{
"name": "",
"value": 0
}
],
"loss": 0,
"quantityAndFeeResp": {
"fee": 0,
"quantity": 0
},
"quantityContrast": {
"maxName": "",
"maxValue": 0,
"minName": "",
"minValue": 0
},
"quantityRanking": [
{
"name": "",
"value": 0
}
]
        },
        "steamExit": false
    },
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |企业分析-月、年数据返回  | 企业分析-月、年数据返回   |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |


**schema属性说明**


**企业分析-月、年数据返回**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|eleExit | 电力是否存在（true为存在）   |boolean  |    |
|electric | 电力系统数据   |用能分析月年电力系统返回数据  | 用能分析月年电力系统返回数据   |
|name | 名称   |string  |    |
|steam | 蒸汽系统数据   |用能分析蒸汽系统日周自定义数据返回  | 用能分析蒸汽系统日周自定义数据返回   |
|steamExit | 蒸汽是否存在（true为存在）   |boolean  |    |
**用能分析月年电力系统返回数据**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|costComposition | 电网公司成本构成   |电网公司成本构成  | 电网公司成本构成   |
|feeContrast | 车间用电对比-费   |用能对比分析-最大最小 数据返回  | 用能对比分析-最大最小 数据返回   |
|quantityAndFee | 用量和费用   |用能量和费数据返回  | 用能量和费数据返回   |
|quantityContrast | 车间用电对比-量   |用能对比分析-最大最小 数据返回  | 用能对比分析-最大最小 数据返回   |
**电网公司成本构成**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|baseFee | 基本电费   |string  |    |
|branchTimeFee | 电度电费对象   |string  |    |
|rewardFee | 功率因数奖惩电费   |string  |    |
**用能对比分析-最大最小 数据返回**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|maxName | 最大-名称   |string  |    |
|maxValue | 最大-值   |number  |    |
|minName | 最小-名称   |string  |    |
|minValue | 最小-值   |number  |    |
**用能量和费数据返回**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|fee | 用能费用   |number  |    |
|quantity | 用能用量   |number  |    |
**用能分析蒸汽系统日周自定义数据返回**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|feeContrast | 车间用汽-费   |用能对比分析-最大最小 数据返回  | 用能对比分析-最大最小 数据返回   |
|feeRanking | 车间费用排名   |array  | 数据返回-值、名称   |
|loss | 损耗   |number  |    |
|quantityAndFeeResp | 蒸汽用量和费用   |用能量和费数据返回  | 用能量和费数据返回   |
|quantityContrast | 车间用汽-量   |用能对比分析-最大最小 数据返回  | 用能对比分析-最大最小 数据返回   |
|quantityRanking | 车间用汽量排名   |array  | 数据返回-值、名称   |
**数据返回-值、名称**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|name | 名称   |string  |    |
|value | 值   |number  |    |
**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp«企业分析-月、年数据返回»|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||
## 用能分析-首页看板

**接口说明**:


**接口地址**:`/cusEnergyAnalysis/getEnergyAnalysisIndex`


**请求方式**：`GET`


**consumes**:``


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|start| 开始时间(yyyy-MM-dd/yyyy-MM/yyyy)  | query | true |string  |    |
|end| 结束时间(yyyy-MM-dd/yyyy-MM/yyyy)  | query | true |string  |    |
|cusId| 企业id  | query | true |string  |    |
|type| 类型（day/week/month/year/custom）  | query | true |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": {
        "eleExit": false,
        "eleQuantityRanking": [
{
"name": "",
"value": 0
}
        ],
        "energyTotalAnalysis": {
"eleFee": {
"value": 0,
"valueCompare": 0
},
"eleQuantity": {
"value": 0,
"valueCompare": 0
},
"steaFee": {
"value": 0,
"valueCompare": 0
},
"steaQuantity": {
"value": 0,
"valueCompare": 0
},
"totalFee": {
"value": 0,
"valueCompare": 0
}
        },
        "feeRanking": [
{
"name": "",
"value": 0
}
        ],
        "seatExit": false,
        "seatQuantityRanking": [
{
"name": "",
"value": 0
}
        ]
    },
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |用能分析首页数据返回  | 用能分析首页数据返回   |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |


**schema属性说明**


**用能分析首页数据返回**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|eleExit | 电力系统是否存在   |boolean  |    |
|eleQuantityRanking | 车间用能排名（用电量排名）   |array  | 数据返回-值、名称   |
|energyTotalAnalysis | 用量 费用 以及同比   |用能分析首页用能以及费用返回数据  | 用能分析首页用能以及费用返回数据   |
|feeRanking | 车间用能排名（费用排名）   |array  | 数据返回-值、名称   |
|seatExit | 蒸汽是否存在   |boolean  |    |
|seatQuantityRanking | 车间用能排名（用蒸汽量排名）   |array  | 数据返回-值、名称   |
**数据返回-值、名称**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|name | 名称   |string  |    |
|value | 值   |number  |    |
**用能分析首页用能以及费用返回数据**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|eleFee | 电力系统费用   |同比数据返回实体类  | 同比数据返回实体类   |
|eleQuantity | 电力系统用量   |同比数据返回实体类  | 同比数据返回实体类   |
|steaFee | 蒸汽系统费用   |同比数据返回实体类  | 同比数据返回实体类   |
|steaQuantity | 蒸汽系统用量   |同比数据返回实体类  | 同比数据返回实体类   |
|totalFee | 总费用   |同比数据返回实体类  | 同比数据返回实体类   |
**同比数据返回实体类**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|value | 值   |number  |    |
|valueCompare | 同比   |number  |    |
**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp«用能分析首页数据返回»|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||
## 生产线分析

**接口说明**:


**接口地址**:`/cusEnergyAnalysis/getLineAnalysis`


**请求方式**：`GET`


**consumes**:``


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|start| 开始时间  | query | true |string  |    |
|end| 结束时间  | query | true |string  |    |
|accountId| 生产线ID  | query | true |string  |    |
|type| 时间类型(day = 日 / week = 周 / month = 月 / year = 年 / custom = 自定义)  | query | true |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": {
        "eleExit": false,
        "electricResp": {
"branchTimeEnergy": {
"flatFees": 0,
"flatQuantity": 0,
"peakFees": 0,
"peakQuantity": 0,
"tipFees": 0,
"tipQuantity": 0,
"valleyFees": 0,
"valleyQuantity": 0
},
"quantityAndFee": {
"fee": 0,
"quantity": 0
}
        },
        "name": "",
        "steamExit": false,
        "steamResp": {
"quantityAndFeeResp": {
"fee": 0,
"quantity": 0
},
"quantityAndFeesInfoBoList": [
{
"date": "",
"fees": 0,
"formula": "",
"quantity": 0
}
]
        }
    },
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |CusEnergyAnalysisLineResp  | CusEnergyAnalysisLineResp   |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |


**schema属性说明**


**CusEnergyAnalysisLineResp**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|eleExit | 电力是否存在（true为存在）   |boolean  |    |
|electricResp | 电力系统返回数据   |CusEnergyAnalysisLineElectricResp  | CusEnergyAnalysisLineElectricResp   |
|name | 生产线名称   |string  |    |
|steamExit | 蒸汽是否存在（true为存在）   |boolean  |    |
|steamResp | 蒸汽系统返回数据   |CusEnergyAnalysisLineSteamResp  | CusEnergyAnalysisLineSteamResp   |
**CusEnergyAnalysisLineElectricResp**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|branchTimeEnergy | 分时电量   |分时电量返回数据  | 分时电量返回数据   |
|quantityAndFee | 用量和费用   |用能量和费数据返回  | 用能量和费数据返回   |
**分时电量返回数据**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|flatFees | 平-费   |number  |    |
|flatQuantity | 平-量   |number  |    |
|peakFees | 峰-费   |number  |    |
|peakQuantity | 峰-量   |number  |    |
|tipFees | 尖-费   |number  |    |
|tipQuantity | 尖-量   |number  |    |
|valleyFees | 谷-费   |number  |    |
|valleyQuantity | 谷-量   |number  |    |
**用能量和费数据返回**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|fee | 用能费用   |number  |    |
|quantity | 用能用量   |number  |    |
**CusEnergyAnalysisLineSteamResp**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|quantityAndFeeResp | 蒸汽用量和费用   |用能量和费数据返回  | 用能量和费数据返回   |
|quantityAndFeesInfoBoList | 蒸汽增量返回数据列表   |array  | QuantityAndFeesInfoBo   |
**QuantityAndFeesInfoBo**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|date | 时间   |string  |    |
|fees | 费用   |number  |    |
|formula |    |string  |    |
|quantity | 用量   |number  |    |
**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp«CusEnergyAnalysisLineResp»|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||
## 车间分析

**接口说明**:


**接口地址**:`/cusEnergyAnalysis/getWorkShopAnalysis`


**请求方式**：`GET`


**consumes**:``


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|start| 开始时间  | query | true |string  |    |
|end| 结束时间  | query | true |string  |    |
|accountId| 车间ID  | query | true |string  |    |
|type| 时间类型(day = 日 / week = 周 / month = 月 / year = 年 / custom = 自定义)  | query | true |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": {
        "eleExit": false,
        "electricResp": {
"branchTimeEnergy": {
"flatFees": 0,
"flatQuantity": 0,
"peakFees": 0,
"peakQuantity": 0,
"tipFees": 0,
"tipQuantity": 0,
"valleyFees": 0,
"valleyQuantity": 0
},
"feeContrast": {
"maxName": "",
"maxValue": 0,
"minName": "",
"minValue": 0
},
"loss": 0,
"quantityAndFee": {
"fee": 0,
"quantity": 0
},
"quantityContrast": {
"maxName": "",
"maxValue": 0,
"minName": "",
"minValue": 0
}
        },
        "name": "",
        "steamExit": false,
        "steamResp": {
"feeContrast": {
"maxName": "",
"maxValue": 0,
"minName": "",
"minValue": 0
},
"feeRanking": [
{
"name": "",
"value": 0
}
],
"loss": 0,
"quantityAndFeeResp": {
"fee": 0,
"quantity": 0
},
"quantityContrast": {
"maxName": "",
"maxValue": 0,
"minName": "",
"minValue": 0
},
"quantityRanking": [
{
"name": "",
"value": 0
}
]
        }
    },
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |CusEnergyAnalysisWorkShopResp  | CusEnergyAnalysisWorkShopResp   |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |


**schema属性说明**


**CusEnergyAnalysisWorkShopResp**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|eleExit | 电力是否存在（true为存在）   |boolean  |    |
|electricResp | 电力系统返回数据   |CusEnergyAnalysisWorkShopElectricResp  | CusEnergyAnalysisWorkShopElectricResp   |
|name | 车间名称   |string  |    |
|steamExit | 蒸汽是否存在（true为存在）   |boolean  |    |
|steamResp | 蒸汽系统返回数据   |CusEnergyAnalysisWorkShopSteamResp  | CusEnergyAnalysisWorkShopSteamResp   |
**CusEnergyAnalysisWorkShopElectricResp**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|branchTimeEnergy | 分时电量   |分时电量返回数据  | 分时电量返回数据   |
|feeContrast | 车间用汽对比-费   |用能对比分析-最大最小 数据返回  | 用能对比分析-最大最小 数据返回   |
|loss | 损耗   |number  |    |
|quantityAndFee | 用量和费用   |用能量和费数据返回  | 用能量和费数据返回   |
|quantityContrast | 车间用汽对比-量   |用能对比分析-最大最小 数据返回  | 用能对比分析-最大最小 数据返回   |
**分时电量返回数据**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|flatFees | 平-费   |number  |    |
|flatQuantity | 平-量   |number  |    |
|peakFees | 峰-费   |number  |    |
|peakQuantity | 峰-量   |number  |    |
|tipFees | 尖-费   |number  |    |
|tipQuantity | 尖-量   |number  |    |
|valleyFees | 谷-费   |number  |    |
|valleyQuantity | 谷-量   |number  |    |
**用能对比分析-最大最小 数据返回**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|maxName | 最大-名称   |string  |    |
|maxValue | 最大-值   |number  |    |
|minName | 最小-名称   |string  |    |
|minValue | 最小-值   |number  |    |
**用能量和费数据返回**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|fee | 用能费用   |number  |    |
|quantity | 用能用量   |number  |    |
**CusEnergyAnalysisWorkShopSteamResp**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|feeContrast | 生产线用汽-费   |用能对比分析-最大最小 数据返回  | 用能对比分析-最大最小 数据返回   |
|feeRanking | 车间费用排名   |array  | 数据返回-值、名称   |
|loss | 损耗   |number  |    |
|quantityAndFeeResp | 蒸汽用量和费用   |用能量和费数据返回  | 用能量和费数据返回   |
|quantityContrast | 生产线用汽-量   |用能对比分析-最大最小 数据返回  | 用能对比分析-最大最小 数据返回   |
|quantityRanking | 车间用汽量排名   |array  | 数据返回-值、名称   |
**数据返回-值、名称**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|name | 名称   |string  |    |
|value | 值   |number  |    |
**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp«CusEnergyAnalysisWorkShopResp»|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||
# 用能费用趋势

## 用能费用趋势

**接口说明**:用能分析


**接口地址**:`/energy/costTrend`


**请求方式**：`POST`


**consumes**:`["application/json"]`


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|req| req  | body | true |用能费用趋势请求实体  | 用能费用趋势请求实体   |
**schema属性说明**

**用能费用趋势请求实体**
| 参数名称         | 说明    |     in |  是否必须   |  类型  |  schema |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|custId| 企业id。  | body | false |string  |    |
|date| 日期（日维度：传日期前推7天；月维度：传月(上月)前推12个月  | body | false |string  |    |
|dateType| 日期类型：日：0；月：1。  | body | false |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": {
        "costCurve": [
{
"cost": 0,
"date": ""
}
        ],
        "costList": [
{
"cost": 0,
"date": ""
}
        ]
    },
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |用能费用趋势返回  | 用能费用趋势返回   |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |


**schema属性说明**


**用能费用趋势返回**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|costCurve | 用能费用趋势曲线   |array  | EnergyCostTrendVo   |
|costList | 用能费用趋势列表   |array  | EnergyCostTrendVo   |
**EnergyCostTrendVo**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|cost | 费用   |number  |    |
|date | 日期   |string  |    |
**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp«用能费用趋势返回»|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||
# 登录登出

## 设备绑定

**接口说明**:设备绑定/解绑


**接口地址**:`/app/bind`


**请求方式**：`POST`


**consumes**:`["application/json"]`


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|req| req  | body | true |绑定/解绑请求实体  | 绑定/解绑请求实体   |
**schema属性说明**

**绑定/解绑请求实体**
| 参数名称         | 说明    |     in |  是否必须   |  类型  |  schema |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| token令牌  | body | false |string  |    |
|usToken| 设备imei  | body | false |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": {
        "msg": "",
        "retCode": 0
    },
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |BaseResp  | BaseResp   |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |


**schema属性说明**


**BaseResp**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|msg |    |string  |    |
|retCode |    |int32  |    |
**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp«BaseResp»|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||
## 设备解绑

**接口说明**:设备绑定/解绑


**接口地址**:`/app/unBind`


**请求方式**：`POST`


**consumes**:`["application/json"]`


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|req| req  | body | true |绑定/解绑请求实体  | 绑定/解绑请求实体   |
**schema属性说明**

**绑定/解绑请求实体**
| 参数名称         | 说明    |     in |  是否必须   |  类型  |  schema |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| token令牌  | body | false |string  |    |
|usToken| 设备imei  | body | false |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": {
        "msg": "",
        "retCode": 0
    },
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |BaseResp  | BaseResp   |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |


**schema属性说明**


**BaseResp**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|msg |    |string  |    |
|retCode |    |int32  |    |
**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp«BaseResp»|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||
## 登录

**接口说明**:


**接口地址**:`/user/login`


**请求方式**：`POST`


**consumes**:`["application/json"]`


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|loginReq| loginReq  | body | true |登录请求参数实体  | 登录请求参数实体   |
**schema属性说明**

**登录请求参数实体**
| 参数名称         | 说明    |     in |  是否必须   |  类型  |  schema |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|equipType| 设备类型  | body | false |string  |    |
|equipment| 设备id  | body | false |string  |    |
|password| 密码  | body | false |string  |    |
|userName| 用户名  | body | false |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": {
        "contact": "400-888-888",
        "cusInfo": {
"cusId": "1377a9f5b83e4aa5808cb5493bb590e8",
"cusName": "广东达利园"
        },
        "token": "1377a9f5b83e4aa5808cb5493bb590e8"
    },
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |登录返回实体  | 登录返回实体   |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |


**schema属性说明**


**登录返回实体**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|contact | 联系方式   |string  |    |
|cusInfo | 企业信息   |登录返回企业实体  | 登录返回企业实体   |
|token | token令牌   |string  |    |
**登录返回企业实体**
| 参数名称         |  说明
|   类型  |  schema |
| ------------ | ------------------|--------|----------- |
|cusId | 企业id   |string  |    |
|cusName | 企业名称   |string  |    |
**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp«登录返回实体»|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||
## 登出

**接口说明**:


**接口地址**:`/user/logout`


**请求方式**：`POST`


**consumes**:`["application/json"]`


**produces**:`["*/*"]`

**请求参数**：

| 参数名称         | 说明     |     in |  是否必须      |  类型   |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|token| 令牌(获取Token请联系管理员)  | header | false |string  |    |
|logout| logout  | body | true |登出请求实体  | 登出请求实体   |
**schema属性说明**

**登出请求实体**
| 参数名称         | 说明    |     in |  是否必须   |  类型  |  schema |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|equipment| 设备id  | body | false |string  |    |
|token| token令牌  | body | false |string  |    |
**响应数据**:

```json
{
    "code": 200,
    "data": {},
    "error": "参数错误！！！",
    "msg": "请求成功！！！"
}
```
**响应参数说明**:

| 参数名称         | 说明
|    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code| 接口返回码  |int32  |    |
|data|   |object  |    |
|error| 接口返回错误信息  |string  |    |
|msg| 接口返回信息  |string  |    |



**响应状态码说明**:

| 状态码         | 说明
|    schema
|
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |com.enn.vo.energy.EtspResp|
| 201 | 用户新建或修改数据成功!  ||
| 202 | 请求已经进入后台排队!  ||
| 204 | 用户删除数据成功!  ||
| 400 | 用户发出的请求有错误，服务器没有进行新建或修改数据的操作!  ||
| 401 | 用户没有权限!  ||
| 403 | 表示用户得到授权（与401错误相对），但是访问是被禁止的!  ||
| 404 | 用户发出的请求针对的是不存在的记录，服务器没有进行操作!  ||
| 500 | 服务器错误，请联系管理员！  ||
| 1000 | 数据库错误!  ||
| 1001 | 服务器错误!  ||
| 1002 | 参数错误!  ||
| 1003 | token已失效，请重新获取！！  ||
| 1004 | ticket不存在或者已失效!!  ||
| 1005 | 应用id或者密码错误!!  ||
| 1006 | 用户名或密码错误!!  ||
| 1007 | 图形验证码错误!!  ||
| 1008 | 短信验证码错误!!  ||
| 1010 | 用户手机号码不存在！！  ||
| 1011 | 用户未登录！！  ||
| 1012 | 密码错误！！  ||
| 1013 | OPENID错误！！  ||
| 1014 | 邮箱重复！！  ||
| 1015 | 手机号重复！！  ||
| 1016 | 登录名重复！！  ||
| 1017 | 手机号码不正确！！  ||
| 1018 | 邮箱格式错误！！  ||
| 1019 | 用户名不存在!!  ||
| 1020 | 没有权限!!  ||
| 1021 | 密码输入错误次数过多，请15分钟后重试！  ||
| 1023 | 用户状态异常！！  ||
| 1024 | 用户已被锁定！！  ||
| 2000 | 请求大数据平台发生错误---数据异常！！  ||
| 2002 | 请求外部服务错误！！  ||
| 2003 | 企业信息不存在！！  ||
| 2004 | 主账号不能登录！！  ||
| 2005 | 用户企业信息不完整或者不存在！！  ||
| 2006 | 大数据平台服务发生错误---服务异常！！  ||



## 后记

回顾这个博客的诞生，纯粹是出于个人兴趣。在知乎相关问题上回答并获得一定的 star 后，我决定把这个博客主题当作一个小小的开源项目来维护。

在经历 v1.0 - v1.5 的蜕变后，这个博客主题愈发完整，不但增加了诸多 UI 层的优化（opinionated）；在代码层面，更加丰富的配置项也使得这个主题拥有了更好的灵活性与可拓展性。而作为一个开源项目，我也积极的为其完善文档与解决 issue。

如果你恰好逛到了这里，希望你也能喜欢这个博客主题。

—— Hux 后记于 2015.10


